from flask import Flask, jsonify, render_template, request, Response
from jinja2 import Environment, PackageLoader
from urllib import urlopen
from bs4 import BeautifulSoup
import json, socket, urllib2

app = Flask(__name__)
env = Environment(loader=PackageLoader('server', 'templates'))

@app.route("/")
def hello():
	u=urlopen('http://search.carrot2.org/stable/search?query=laptop&results=100&source=web&algorithm=lingo&view=folders&skin=fancy-compact&EToolsDocumentSource.language=ALL&EToolsDocumentSource.country=ALL&EToolsDocumentSource.safeSearch=false&type=CLUSTERS&_=1361291851804')
	soup = BeautifulSoup(str(u.read()))
	words = [x.find('span').string for x in soup.body.div.ul.find_all('li')]
	return str(words)

if __name__ == "__main__":
	app.run(debug='true')
